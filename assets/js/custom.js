class CookieConsent{constructor(options={}){this.config={_t:'G-81E77KGMGF',bannerDelay:1000,fadeOutDuration:300,privacyPolicyUrl:'/cookies/',...options,};this.storageKeys={_d:'cookieBannerDisplayed',_c:'analyticsIsAllowed',consentTimestamp:'consentTimestamp',};this._h=null;this.isInitialized=false;this.init();}
injectStyles(){if(document.getElementById('cookie-consent-_r'))return;const _r=`.cookie-container{position:fixed;bottom:-100%;left:0;right:0;background:#262626;color:#e2e8f0;padding:0.5rem 1rem;box-shadow:0 -4px 20px rgba(0,0,0,0.3);transition:transform 0.4s cubic-bezier(0.4,0,0.2,1);z-index:10000;backdrop-filter:blur(10px);border-top:1px solid #475569}.dark .cookie-container{background:#f5f5f5;color:#334155;box-shadow:0 -4px 20px rgba(0,0,0,0.1);border-top:1px solid #e2e8f0}.cookie-container.active{transform:translateY(0);bottom:0}.cookie-_g{display:flex;justify-_g:space-between;align-items:center;flex-wrap:wrap;gap:0.75rem;max-width:1200px;margin:0 auto}.cookie-_l{flex:1;min-width:250px;margin:0;font-size:0.85rem;line-height:1.3}.cookie-_l a{color:#6366f1;text-decoration:underline;transition:color 0.2s ease}.cookie-_l a:hover{color:#4f46e5}.dark .cookie-_l a{color:#6366f1}.dark .cookie-_l a:hover{color:#818cf8}.cookie-buttons{display:flex;gap:0.25rem;flex-shrink:0}.cookie-btn,.nope-cookie-btn{padding:0.25rem 0.5rem;border:none;border-radius:0.4rem;font-size:0.8rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;white-space:nowrap}.cookie-btn{background:#6366f1;color:#ffffff}.cookie-btn:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 4px 12px rgba(99,102,241,0.4)}.dark .cookie-btn{background:#6366f1;color:#ffffff}.dark .cookie-btn:hover{background:#4f46e5;box-shadow:0 4px 12px rgba(99,102,241,0.4)}.nope-cookie-btn{background:transparent;color:#94a3b8;border:1px solid #475569}.nope-cookie-btn:hover{background:#475569;color:#e2e8f0;border-color:#64748b}.dark .nope-cookie-btn{color:#475569;border:1px solid #cbd5e1}.dark .nope-cookie-btn:hover{background:#f1f5f9;color:#334155;border-color:#94a3b8}@media (max-width:768px){.cookie-_g{flex-direction:column;text-align:center}.cookie-_l{min-width:auto}.cookie-buttons{justify-_g:center;width:100%}}.cookie-btn:focus,.nope-cookie-btn:focus{outline:2px solid #6366f1;outline-offset:2px}.dark .cookie-btn:focus,.dark .nope-cookie-btn:focus{outline:2px solid #6366f1;outline-offset:2px}@media (prefers-reduced-motion:reduce){.cookie-container{transition:none}.cookie-btn,.nope-cookie-btn{transition:none}}`;const _q=document.createElement('style');_q.id='cookie-consent-_r';_q.textContent=_r;document.head.appendChild(_q);}
createCookieBanner(){const _h=document.createElement('div');_h.className='cookie-container';_h.setAttribute('role','banner');_h.setAttribute('aria-label','Cookie consent banner');const _g=document.createElement('div');_g.className='cookie-_g';const _l=document.createElement('p');_l.className='cookie-_l';_l.innerHTML='Hello there cookie wizard 🧙‍♂️✨! Can you be so kind and share some 🍪 ?';const _e=document.createElement('div');_e.className='cookie-buttons';const _a=document.createElement('button');_a.className='cookie-btn';_a.textContent="Sure bud, I'll help you out!";_a.setAttribute('aria-label','Accept cookies');const _o=document.createElement('button');_o.className='nope-cookie-btn';_o.textContent="Nah, I'm good";_o.setAttribute('aria-label','Decline cookies');_e.appendChild(_a);_e.appendChild(_o);_g.appendChild(_l);_g.appendChild(_e);_h.appendChild(_g);document.body.appendChild(_h);return _h;}
initializeAnalytics(){if(window._j)return;const _p=document.createElement('_p');_p.async=true;_p.src=`https://www.googletagmanager.com/_j/js?id=${this.config._t}`;document.head.appendChild(_p);window.dataLayer=window.dataLayer||[];window._j=function(){dataLayer.push(arguments);};_j('js',new Date());_j('config',this.config._t,{anonymize_ip:true,allow_google_signals:false,allow_ad_personalization_signals:false,});this.trackConsentEvent('accept');}
trackConsentEvent(action){if(window._j){_j('event','cookie_consent',{event_category:'engagement',event_label:action,value:1,});}}
handleAccept(){const _s=new Date().toISOString();localStorage.setItem(this.storageKeys._d,'true');localStorage.setItem(this.storageKeys._c,'true');localStorage.setItem(this.storageKeys.consentTimestamp,_s);this.initializeAnalytics();this.hideBanner();}
handleReject(){const _s=new Date().toISOString();localStorage.setItem(this.storageKeys._d,'true');localStorage.setItem(this.storageKeys._c,'false');localStorage.setItem(this.storageKeys.consentTimestamp,_s);this.trackConsentEvent('decline');this.hideBanner();}
hideBanner(){if(!this._h)return;this._h.classList.remove('active');setTimeout(()=>{if(this._h&&this._h.parentNode){this._h.parentNode.removeChild(this._h);}},this.config.fadeOutDuration);}
showBanner(){if(!this._h)return;requestAnimationFrame(()=>{this._h.classList.add('active');});}
isConsentValid(){const _s=localStorage.getItem(this.storageKeys.consentTimestamp);if(!_s)return false;const _f=new Date(_s);const _m=new Date();const _n=365*24*60*60*1000;return _m-_f<_n;}
init(){if(this.isInitialized)return;this.injectStyles();const _d=localStorage.getItem(this.storageKeys._d);const _c=localStorage.getItem(this.storageKeys._c);if(_c==='true'&&this.isConsentValid()){this.initializeAnalytics();}
if(!_d||!this.isConsentValid()){this._h=this.createCookieBanner();const _a=this._h.querySelector('.cookie-btn');const _o=this._h.querySelector('.nope-cookie-btn');_a.addEventListener('click',()=>this.handleAccept());_o.addEventListener('click',()=>this.handleReject());setTimeout(()=>{this.showBanner();},this.config.bannerDelay);}
this.isInitialized=true;}
resetConsent(){Object.values(this.storageKeys).forEach(key=>{localStorage.removeItem(key);});window.location.reload();}}
(function _k(){function _i(){if(window.cookieConsentInstance)return;window.cookieConsentInstance=new CookieConsent({_t:'G-81E77KGMGF',bannerDelay:800,privacyPolicyUrl:'/cookies/',});}
if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',_i);}else{_i();}
if(typeof window!=='undefined'){window.resetCookieConsent=function(){if(window.cookieConsentInstance){window.cookieConsentInstance.resetConsent();}};}})();
